<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Custom Video Player</title>

<style>
:root{
  --bg:#000;
  --panel:rgba(0,0,0,.65);
  --accent:#ff7a18;
  --accent-soft:rgba(255,122,24,.25);
  --text:#fff;
  --muted:#bdbdbd;
  --radius:14px;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:16px;
}

.wrap{
  position:relative;
  width:min(1100px,100%);
  aspect-ratio:16/9;
  background:#000;
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}

#player{ width:100%; height:100%; }

/* ===== HIDE YOUTUBE TITLE ===== */
#titleMask{
  position:absolute;
  top:0; left:0; right:0;
  height:70px;
  z-index:4;
  pointer-events:none;
  background:linear-gradient(
    to bottom,
    rgba(0,0,0,.95),
    rgba(0,0,0,.65),
    rgba(0,0,0,0)
  );
}

/* ===== INTRO OVERLAY ===== */
#overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(
    to bottom,
    rgba(0,0,0,.45),
    rgba(0,0,0,.25)
  );
  z-index:5;
}

#bigPlay{
  width:92px;
  height:92px;
  border-radius:50%;
  border:0;
  cursor:pointer;
  background:radial-gradient(circle at 30% 30%, #ff9a3d, var(--accent));
  color:#000;
  font-size:36px;
  display:grid;
  place-items:center;
  box-shadow:
    0 0 0 6px rgba(255,122,24,.15),
    0 12px 30px rgba(0,0,0,.6);
  transition:transform .15s ease;
}
#bigPlay:hover{ transform:scale(1.06); }

/* ===== CONTROLS ===== */
#controls{
  position:absolute;
  left:0; right:0; bottom:0;
  z-index:6;
  padding:12px 14px;
  display:flex;
  gap:12px;
  align-items:center;
  background:linear-gradient(
    to top,
    rgba(0,0,0,.9),
    rgba(0,0,0,0)
  );
}

.btn{
  background:var(--panel);
  border:0;
  color:#fff;
  font-size:18px;
  cursor:pointer;
  padding:8px 12px;
  border-radius:10px;
}
.btn:hover{ background:var(--accent-soft); }

#time{
  font-size:12px;
  color:var(--muted);
  min-width:96px;
  text-align:center;
  background:var(--panel);
  padding:8px 10px;
  border-radius:10px;
}

/* ===== PROGRESS ===== */
#progress{
  flex:1;
  appearance:none;
  height:4px;
  background:rgba(255,255,255,.25);
  border-radius:999px;
  cursor:pointer;
}
#progress::-webkit-slider-thumb{
  appearance:none;
  width:14px;
  height:14px;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 0 4px rgba(255,122,24,.25);
}
#progress::-moz-range-thumb{
  width:14px;
  height:14px;
  border-radius:50%;
  background:var(--accent);
  border:none;
}

/* ===== NO VIDEO ===== */
#msg{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
  z-index:10;
  background:rgba(0,0,0,.75);
}
#msg code{
  color:var(--accent);
  background:rgba(255,255,255,.12);
  padding:2px 6px;
  border-radius:6px;
}
</style>
</head>

<body>
<div class="wrap">

  <div id="player"></div>
  <div id="titleMask"></div>

  <div id="overlay">
    <button id="bigPlay">▶</button>
  </div>

  <div id="controls">
    <button id="playPause" class="btn">▶</button>
    <div id="time">0:00 / 0:00</div>
    <input id="progress" type="range" min="0" max="100" value="0" step="0.1">
  </div>

  <div id="msg">
    <div>
      <div style="margin-bottom:8px">No video provided</div>
      <code>?v=VIDEO_ID</code>
    </div>
  </div>

</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
/* ===== HELPERS ===== */
function getVideoId(){
  const u=new URL(location.href);
  return u.searchParams.get('v')||u.hash.replace('#','');
}
function fmt(s){
  s=Math.floor(s||0);
  return Math.floor(s/60)+':' + (s%60<10?'0':'')+(s%60);
}

/* ===== STATE ===== */
let player,duration=0,isPlaying=false,hasStarted=false,timer;

const overlay=document.getElementById('overlay');
const bigPlay=document.getElementById('bigPlay');
const playPause=document.getElementById('playPause');
const progress=document.getElementById('progress');
const timeEl=document.getElementById('time');
const msg=document.getElementById('msg');

const VIDEO_ID=getVideoId();
if(!VIDEO_ID) msg.style.display='flex';

/* ===== YT API ===== */
function onYouTubeIframeAPIReady(){
  if(!VIDEO_ID) return;
  player=new YT.Player('player',{
    videoId:VIDEO_ID,
    playerVars:{
      controls:0,
      modestbranding:1,
      rel:0,
      fs:1,
      playsinline:1,
      iv_load_policy:3,
      disablekb:1
    },
    events:{
      onReady:()=>{ duration=player.getDuration(); updateUI(); },
      onStateChange:onStateChange
    }
  });
}
window.onYouTubeIframeAPIReady=onYouTubeIframeAPIReady;

/* ===== PLAYER STATE ===== */
function onStateChange(e){
  if(e.data===YT.PlayerState.PLAYING){
    isPlaying=true;
    hasStarted=true;
    overlay.style.display='none';
    overlay.style.pointerEvents='none';
    playPause.textContent='⏸';
    startTick();
  }
  if(e.data===YT.PlayerState.PAUSED){
    isPlaying=false;
    playPause.textContent='▶';
    stopTick();
  }
  if(e.data===YT.PlayerState.ENDED){
    isPlaying=false;
    playPause.textContent='▶';
    stopTick();
    overlay.style.display='flex'; // replay
  }
}

/* ===== CONTROLS ===== */
bigPlay.onclick=()=>player.playVideo();
playPause.onclick=()=>isPlaying?player.pauseVideo():player.playVideo();

let seeking=false;
progress.oninput=()=>{
  seeking=true;
  const t=(progress.value/100)*duration;
  timeEl.textContent=fmt(t)+' / '+fmt(duration);
};
progress.onchange=()=>{
  const t=(progress.value/100)*duration;
  player.seekTo(t,true);
  seeking=false;
};

function startTick(){
  stopTick();
  timer=setInterval(updateUI,400);
}
function stopTick(){
  if(timer) clearInterval(timer);
}
function updateUI(){
  if(!player) return;
  duration=player.getDuration()||duration;
  const cur=player.getCurrentTime()||0;
  if(!seeking && duration) progress.value=(cur/duration)*100;
  timeEl.textContent=fmt(cur)+' / '+fmt(duration);
}
</script>
</body>
</html>

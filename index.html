<!-- <div id="yt-wrap" style="
  position:relative;
  width:100%;
  max-width:960px;
  aspect-ratio:16/9;
  margin:0 auto;
  background:#000;
  overflow:hidden;
  border-radius:12px;
">

  <div id="player"></div>

  <div id="overlay" style="
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.35);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:3;
    transition:opacity .3s ease;
  ">
    <button id="bigPlay" style="
      width:84px;
      height:84px;
      border-radius:50%;
      border:none;
      background:rgba(0,0,0,.75);
      color:#fff;
      font-size:34px;
      cursor:pointer;
    ">▶</button>
  </div>

  <div id="controls" style="
    position:absolute;
    bottom:0;
    left:0;
    right:0;
    padding:10px 14px;
    background:linear-gradient(to top, rgba(0,0,0,.8), transparent);
    display:flex;
    align-items:center;
    gap:12px;
    z-index:4;
  ">

    <button id="playPause" style="
      background:none;
      border:none;
      color:#fff;
      font-size:18px;
      cursor:pointer;
    ">▶</button>

    <span id="time" style="
      color:#fff;
      font-size:12px;
      min-width:90px;
    ">0:00 / 0:00</span>

    <input id="progress" type="range" min="0" max="100" value="0" step="0.1"
      style="flex:1; cursor:pointer;">
  </div>

</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;
let duration = 0;
let isPlaying = false;
let progressTimer;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    videoId: 'aTCs0Qv20TU',
    playerVars: {
      controls: 0,
      modestbranding: 1,
      rel: 0,
      fs: 1
    },
    events: {
      onReady: onReady,
      onStateChange: onStateChange
    }
  });
}

function onReady() {
  duration = player.getDuration();
  updateTime();
}

function onStateChange(e) {
  if (e.data === YT.PlayerState.PLAYING) {
    isPlaying = true;
    document.getElementById('overlay').style.display = 'none';
    document.getElementById('playPause').textContent = '⏸';
    startProgress();
  }

  if (e.data === YT.PlayerState.PAUSED) {
    isPlaying = false;
    document.getElementById('overlay').style.display = 'flex';
    document.getElementById('playPause').textContent = '▶';
    stopProgress();
  }
}

document.getElementById('bigPlay').onclick = () => player.playVideo();
document.getElementById('playPause').onclick = () =>
  isPlaying ? player.pauseVideo() : player.playVideo();

document.getElementById('progress').addEventListener('input', e => {
  const seek = (e.target.value / 100) * duration;
  player.seekTo(seek, true);
});

function startProgress() {
  progressTimer = setInterval(() => {
    const current = player.getCurrentTime();
    document.getElementById('progress').value = (current / duration) * 100;
    updateTime();
  }, 500);
}

function stopProgress() {
  clearInterval(progressTimer);
}

function updateTime() {
  const current = Math.floor(player.getCurrentTime());
  const total = Math.floor(duration);

  document.getElementById('time').textContent =
    format(current) + ' / ' + format(total);
}

function format(sec) {
  const m = Math.floor(sec / 60);
  const s = sec % 60;
  return m + ':' + (s < 10 ? '0' : '') + s;
}
</script> -->



<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Custom YouTube Player</title>
  <style>
    :root{
      --bg:#000;
      --ui:rgba(0,0,0,.72);
      --text:#fff;
      --muted:#cfcfcf;
      --radius:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:16px;
    }
    .wrap{
      position:relative;
      width:min(1100px,100%);
      aspect-ratio:16/9;
      background:#000;
      border-radius:var(--radius);
      overflow:hidden;
    }
    #player{
      width:100%;
      height:100%;
    }

    /* Full overlay (clickable) */
    #overlay{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,.35);
      z-index:5;
      transition:opacity .25s ease;
    }
    #bigPlay{
      width:86px;height:86px;
      border-radius:999px;
      border:0;
      cursor:pointer;
      background:rgba(0,0,0,.75);
      color:#fff;
      font-size:34px;
      line-height:1;
      display:grid;
      place-items:center;
    }

    /* Controls */
    #controls{
      position:absolute;
      left:0; right:0; bottom:0;
      z-index:6;
      padding:10px 12px;
      background:linear-gradient(to top, rgba(0,0,0,.85), rgba(0,0,0,0));
      display:flex;
      gap:10px;
      align-items:center;
    }
    .btn{
      background:none;
      border:0;
      color:#fff;
      font-size:18px;
      cursor:pointer;
      padding:6px 8px;
      border-radius:10px;
      background:rgba(0,0,0,.35);
    }
    #time{
      font-size:12px;
      color:var(--muted);
      min-width:96px;
      text-align:center;
      background:rgba(0,0,0,.35);
      padding:6px 8px;
      border-radius:10px;
    }
    #progress{
      flex:1;
      cursor:pointer;
    }

    /* Tiny “no video id” message */
    #msg{
      position:absolute;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:18px;
      z-index:10;
      color:#fff;
      background:rgba(0,0,0,.65);
    }
    #msg code{background:rgba(255,255,255,.12); padding:2px 6px; border-radius:6px}
  </style>
</head>

<body>
  <div class="wrap">
    <div id="player"></div>

    <div id="overlay">
      <button id="bigPlay" aria-label="Play">▶</button>
    </div>

    <div id="controls">
      <button id="playPause" class="btn" aria-label="Play/Pause">▶</button>
      <div id="time">0:00 / 0:00</div>
      <input id="progress" type="range" min="0" max="100" value="0" step="0.1" aria-label="Seek">
    </div>

    <div id="msg">
      <div>
        <div style="font-size:16px; margin-bottom:8px;">No YouTube video id provided.</div>
        <div style="opacity:.9; font-size:13px;">
          Use <code>?v=VIDEO_ID</code> or <code>#v=VIDEO_ID</code><br><br>
          Example: <code>player.html?v=aTCs0Qv20TU</code>
        </div>
      </div>
    </div>
  </div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    // ---- Helpers
    function getVideoId(){
      // supports ?v=ID or ?videoId=ID or #v=ID
      const u = new URL(window.location.href);
      const qp = u.searchParams.get('v') || u.searchParams.get('videoId') || u.searchParams.get('id');
      if (qp) return qp.trim();

      const hash = (u.hash || '').replace(/^#/, '');
      // naive parse: v=ID or just ID
      if (!hash) return '';
      const m = hash.match(/(?:^|&)v=([^&]+)/i) || hash.match(/(?:^|&)videoId=([^&]+)/i);
      if (m && m[1]) return decodeURIComponent(m[1]).trim();
      // if hash is just an ID
      if (/^[a-zA-Z0-9_-]{6,}$/.test(hash)) return hash.trim();
      return '';
    }
    function fmt(sec){
      sec = Math.max(0, Math.floor(sec || 0));
      const m = Math.floor(sec/60);
      const s = sec % 60;
      return m + ':' + (s<10?'0':'') + s;
    }

    // ---- State
    let player;
    let duration = 0;
    let isPlaying = false;
    let timer;

    const overlay = document.getElementById('overlay');
    const bigPlay = document.getElementById('bigPlay');
    const playPause = document.getElementById('playPause');
    const progress = document.getElementById('progress');
    const timeEl = document.getElementById('time');
    const msg = document.getElementById('msg');

    const VIDEO_ID = getVideoId();

    if(!VIDEO_ID){
      msg.style.display = 'flex';
    }

    // ---- YouTube API callback
    function onYouTubeIframeAPIReady(){
      if(!VIDEO_ID) return;

      player = new YT.Player('player', {
        videoId: VIDEO_ID,
        playerVars: {
          controls: 0,
          modestbranding: 1,
          rel: 0,
          fs: 1,
          playsinline: 1
        },
        events: {
          onReady: onReady,
          onStateChange: onStateChange
        }
      });
    }
    window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;

    function onReady(){
      duration = player.getDuration() || 0;
      updateUI();
    }

    function onStateChange(e){
      if (e.data === YT.PlayerState.PLAYING){
        isPlaying = true;
        overlay.style.display = 'none';
        playPause.textContent = '⏸';
        startTick();
      } else if (e.data === YT.PlayerState.PAUSED){
        isPlaying = false;
        overlay.style.display = 'flex';
        playPause.textContent = '▶';
        stopTick();
        updateUI();
      } else if (e.data === YT.PlayerState.ENDED){
        isPlaying = false;
        overlay.style.display = 'flex';
        playPause.textContent = '▶';
        stopTick();
        updateUI();
      }
    }

    // ---- Controls
    bigPlay.addEventListener('click', () => player && player.playVideo());
    playPause.addEventListener('click', () => {
      if(!player) return;
      isPlaying ? player.pauseVideo() : player.playVideo();
    });

    // Seek
    let seeking = false;
    progress.addEventListener('input', () => {
      seeking = true;
      if(!player || !duration) return;
      const t = (progress.value/100) * duration;
      timeEl.textContent = fmt(t) + ' / ' + fmt(duration);
    });
    progress.addEventListener('change', () => {
      if(!player || !duration) return;
      const t = (progress.value/100) * duration;
      player.seekTo(t, true);
      seeking = false;
    });

    function startTick(){
      stopTick();
      timer = setInterval(() => updateUI(), 400);
    }
    function stopTick(){
      if(timer) clearInterval(timer);
      timer = null;
    }

    function updateUI(){
      if(!player) return;
      duration = player.getDuration() || duration || 0;
      const cur = player.getCurrentTime ? (player.getCurrentTime() || 0) : 0;

      if(!seeking && duration > 0){
        progress.value = (cur / duration) * 100;
      }
      timeEl.textContent = fmt(cur) + ' / ' + fmt(duration);
    }
  </script>
</body>
</html>

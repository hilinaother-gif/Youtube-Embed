<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Custom Video Player</title>

<style>
:root{
  --bg:#000;
  --panel:rgba(0,0,0,.65);
  --accent:#ff7a18;
  --accent-soft:rgba(255,122,24,.25);
  --text:#fff;
  --muted:#bdbdbd;
  --radius:14px;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:16px;
}

.wrap{
  position:relative;
  width:min(1100px,100%);
  aspect-ratio:16/9;
  background:#000;
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}

#player{width:100%;height:100%;}

/* BLOCKERS */
#headerBlocker{
  position:absolute;
  top:0;left:0;right:0;
  height:70px;
  z-index:6;
}

#videoBlocker{
  position:absolute;
  inset:0;
  z-index:3;
}

/* OVERLAY */
#overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(
    to bottom,
    rgba(0,0,0,.45),
    rgba(0,0,0,.25)
  );
  z-index:5;
}

#bigPlay{
  width:92px;height:92px;
  border-radius:50%;
  border:0;
  cursor:pointer;
  background:radial-gradient(circle at 30% 30%, #ff9a3d, var(--accent));
  color:#000;
  font-size:36px;
  display:grid;
  place-items:center;
  box-shadow:
    0 0 0 6px rgba(255,122,24,.15),
    0 12px 30px rgba(0,0,0,.6);
}

/* LOADER */
#loader{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.45);
  z-index:7;
}

.spinner{
  width:48px;
  height:48px;
  border:4px solid rgba(255,255,255,.25);
  border-top-color:var(--accent);
  border-radius:50%;
  animation:spin 1s linear infinite;
}

@keyframes spin{
  to{transform:rotate(360deg)}
}

/* CONTROLS */
#controls{
  position:absolute;
  left:0;right:0;bottom:0;
  z-index:8;
  padding:12px 14px;
  display:flex;
  gap:12px;
  align-items:center;
  background:linear-gradient(
    to top,
    rgba(0,0,0,.9),
    rgba(0,0,0,0)
  );
}

.btn{
  background:var(--panel);
  border:0;
  color:#fff;
  font-size:18px;
  cursor:pointer;
  padding:8px 12px;
  border-radius:10px;
}
.btn:hover{background:var(--accent-soft);}

#time{
  font-size:12px;
  color:var(--muted);
  min-width:96px;
  text-align:center;
  background:var(--panel);
  padding:8px 10px;
  border-radius:10px;
}

/* PROGRESS */
#progress{
  flex:1;
  appearance:none;
  height:4px;
  background:rgba(255,255,255,.25);
  border-radius:999px;
  cursor:pointer;
}
#progress::-webkit-slider-thumb{
  appearance:none;
  width:14px;height:14px;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 0 4px rgba(255,122,24,.25);
}

/* VOLUME */
#volumeWrap{
  display:flex;
  align-items:center;
  gap:8px;
}

#volume{
  width:90px;
  appearance:none;
  height:4px;
  background:rgba(255,255,255,.25);
  border-radius:999px;
}
#volume::-webkit-slider-thumb{
  appearance:none;
  width:12px;height:12px;
  border-radius:50%;
  background:var(--accent);
}
</style>
</head>

<body>
<div class="wrap">

  <div id="player"></div>

  <div id="headerBlocker"></div>
  <div id="videoBlocker"></div>

  <div id="overlay">
    <button id="bigPlay">â–¶</button>
  </div>

  <div id="loader">
    <div class="spinner"></div>
  </div>

  <div id="controls">
    <button id="playPause" class="btn">â–¶</button>

    <div id="volumeWrap">
      <button id="mute" class="btn">ðŸ”Š</button>
      <input id="volume" type="range" min="0" max="100" value="100">
    </div>

    <div id="time">0:00 / 0:00</div>
    <input id="progress" type="range" min="0" max="100" value="0" step="0.1">
  </div>

</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
function fmt(sec){
  sec=Math.floor(sec||0);
  return Math.floor(sec/60)+':' + (sec%60<10?'0':'')+(sec%60);
}

function getVideoId(){
  const u=new URL(location.href);
  return u.searchParams.get('v') || u.hash.replace('#','');
}

let player, duration=0, isPlaying=false, timer=null, seeking=false;
let playerReady=false, isMuted=false;

const overlay=document.getElementById('overlay');
const bigPlay=document.getElementById('bigPlay');
const playPause=document.getElementById('playPause');
const progress=document.getElementById('progress');
const timeEl=document.getElementById('time');
const loader=document.getElementById('loader');
const volume=document.getElementById('volume');
const muteBtn=document.getElementById('mute');

const VIDEO_ID=getVideoId();

function onYouTubeIframeAPIReady(){
  if(!VIDEO_ID) return;
  player=new YT.Player('player',{
    videoId:VIDEO_ID,
    playerVars:{
      controls:0,
      modestbranding:1,
      rel:0,
      fs:1,
      playsinline:1,
      iv_load_policy:3,
      disablekb:1
    },
    events:{
      onReady:onReady,
      onStateChange:onStateChange
    }
  });
}
window.onYouTubeIframeAPIReady=onYouTubeIframeAPIReady;

function onReady(){
  playerReady=true;
  duration=player.getDuration()||0;
  loader.style.display='none';
  updateUI();
}

function onStateChange(e){
  if(e.data===YT.PlayerState.BUFFERING){
    loader.style.display='flex';
  }
  if(e.data===YT.PlayerState.PLAYING){
    loader.style.display='none';
    isPlaying=true;
    overlay.style.display='none';
    playPause.textContent='â¸';
    startTick();
  }
  if(e.data===YT.PlayerState.PAUSED){
    isPlaying=false;
    playPause.textContent='â–¶';
    stopTick();
  }
}

function safePlay(){
  if(!player || !playerReady) return;
  loader.style.display='flex';
  player.playVideo();
}

  function togglePlay(){
  if(!player || !playerReady) return;

  if(isPlaying){
    player.pauseVideo();   // â¸ pause = NO loader
  }else{
    loader.style.display = 'flex';
    player.playVideo();    // â–¶ play = show loader
  }
}


bigPlay.onclick = safePlay;     
playPause.onclick = togglePlay; 

progress.oninput=()=>{
  if(!duration) return;
  seeking=true;
  const t=(progress.value/100)*duration;
  timeEl.textContent=fmt(t)+' / '+fmt(duration);
};

progress.onchange=()=>{
  if(!player || !duration) return;
  const t=(progress.value/100)*duration;
  player.seekTo(t,true);
  seeking=false;
};

volume.oninput=()=>{
  if(!player) return;
  player.setVolume(volume.value);
  isMuted=volume.value==0;
  muteBtn.textContent=isMuted?'ðŸ”‡':'ðŸ”Š';
};

muteBtn.onclick=()=>{
  if(!player) return;
  isMuted=!isMuted;
  player[isMuted?'mute':'unMute']();
  muteBtn.textContent=isMuted?'ðŸ”‡':'ðŸ”Š';
};

function startTick(){
  stopTick();
  timer=setInterval(updateUI,400);
}
function stopTick(){
  if(timer){clearInterval(timer);timer=null;}
}
function updateUI(){
  if(!player) return;
  const cur=player.getCurrentTime()||0;
  if(!seeking && duration) progress.value=(cur/duration)*100;
  timeEl.textContent=fmt(cur)+' / '+fmt(duration);
}

document.getElementById('videoBlocker')
  .addEventListener('contextmenu',e=>e.preventDefault());
</script>
</body>
</html>
